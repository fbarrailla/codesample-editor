{"version":3,"sources":["serviceWorker.js","state/reducers.js","state/actionTypes.js","state/actions.js","state/selectors.js","state/store.js","components/Title.js","components/Editor.js","libs/canvas2image.js","components/Settings.js","state/db.js","components/Image.js","libs/canvasImageCoverPosition.js","components/BgSettingsBtn.js","components/BgImagePicker.js","components/BgSettings.js","hooks/useFileInput.js","components/PreviewWindow.js","components/Preview.js","hooks/useBoundingRect.js","components/App.js","hooks/useLocalStorage.js","index.js"],"names":["Boolean","window","location","hostname","match","persistedState","localStorage","getItem","initialState","JSON","parse","code","language","background","customBackground","state","arguments","length","undefined","action","type","payload","editCode","setLanguage","setBackground","bg","setCustomBackground","getBackground","getCustomBackground","isCustomBackground","createSelector","getBackgroundColor","isCustom","customBg","test","isBackgroundImage","store","initStore","reducers","actions","selectors","useStore","StoreProvider","styled","h1","_templateObject","Wrapper","div","Editor_templateObject","EditorTitle","Title","_templateObject2","CodeInput","textarea","_templateObject3","Editor","_useStore","dispatch","inputRef","useRef","useEffect","current","focus","react_default","a","createElement","value","onChange","e","target","ref","spellCheck","b64toBlob","b64Data","contentType","sliceSize","substring","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","Blob","canvas2image","$support","canvas","document","ctx","getContext","imageData","getImageData","dataURL","toDataURL","btoa","scaleCanvas","width","height","w","h","retCanvas","retCtx","drawImage","getDataURL","saveFile","strData","filename","createObjectURL","link","body","appendChild","download","URL","webkitURL","alert","href","click","genImage","img","src","fixType","toLowerCase","replace","encodeData","data","str","String","fromCharCode","makeURI","genBitmapImage","oData","biWidth","biHeight","biSizeImage","bfSize","BITMAPFILEHEADER","BITMAPINFOHEADER","iPadding","aImgData","strPixelData","biWidth4","y","iOffsetY","strPixelRow","x","iOffsetX","c","concat","saveAsImage","getElementById","convertToImage","saveAsPNG","saveAsJPEG","saveAsGIF","saveAsBMP","convertToPNG","convertToJPEG","convertToGIF","convertToBMP","BackgroundSelect","Select","Settings_templateObject","LanguageSelect","Settings_templateObject2","Label","label","Settings_templateObject3","backgrounds","languages","SyntaxHighlighter","supportedLanguages","map","l","Settings","selectedLanguage","selectedBackground","find","Fragment","htmlFor","id","option","options","dbPromise","idb","open","upgradeDB","createObjectStore","bgImageStore","key","then","db","transaction","objectStore","get","val","tx","put","complete","keys","iterateKeyCursor","iterateCursor","call","cursor","continue","delete","getBgImage","getBgImages","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","results","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","imgId","wrap","_context","prev","next","sent","Symbol","iterator","done","t0","t1","t2","t3","t4","return","finish","abrupt","stop","this","apply","Image","canvasRef","_useState","useState","_useState2","slicedToArray","rect","setRect","_useState3","_useState4","image","setImage","onload","clearRect","requestAnimationFrame","draw","_canvas$getBoundingCl","getBoundingClientRect","canvasWidth","canvasHeight","_canvasImageCoverPosi","imgNaturalWidth","imgNaturalHeight","offsetLeft","offsetTop","A1","A2","A3","B1","B2","B3","dA","dB","round","v","Math","abs","canvasImageCoverPosition","imgWidth","imgHeight","button","BgSettingsBtn_templateObject","BgImagePicker_templateObject","ImgWrapper","BgImagePicker_templateObject2","Button","BgSettingsBtn","BgImagePicker_templateObject3","RemoveButton","_templateObject4","BgImagePicker","uploadFile","close","select","images","setImages","selectedId","toConsumableArray","handleDelete","deleteBgImage","nextImages","filter","BgImagePicker_Wrapper","onClick","style","borderColor","components_Image","BgSettings_templateObject","ColorPickerWrapper","BgSettings_templateObject2","ImagePickerWrapper","BgSettings_templateObject3","CustomBgSettings","colorPickerWrapperRef","imagePickerWrapperRef","isColorPickerVisible","setColorPickerVisible","isImagePickerVisible","setImagePickerVisible","input","fileInput","handleChange","evt","file","files","reader","FileReader","result","readAsDataURL","addEventListener","removeEventListener","useFileInput","fileContent","Date","bgImage","setBgImage","useOnClickOutside","components_BgImagePicker","react_color_lib","color","onChangeComplete","hex","BgSettings_Wrapper","PreviewWindow_templateObject","Toolbar","PreviewWindow_templateObject2","ToolbarIcon","PreviewWindow_templateObject3","p","CodeWrapper","PreviewWindow_templateObject4","PreviewWindow","children","PreviewWindow_Wrapper","Preview_templateObject","PreviewTitle","Preview_templateObject2","CaptureButton","Preview_templateObject3","TitleWrapper","Preview_templateObject4","PreviewZone","_templateObject5","BackgroundImage","_templateObject6","BgSettingsWrapper","_templateObject7","Preview","backgroundImage","setBackgroundImage","previewRef","_useBoundingRect","size","setSize","onResize","debouce","useBoundingRect","previewWidth","previewHeight","Preview_Wrapper","components_Settings","title","previewZone","html2canvas","ignoreElements","el","classList","contains","logging","_previewZone$getBound","Canvas2Image","role","aria-label","className","BgSettings","components_PreviewWindow","prism_default","tomorrow","wrapLines","GlobalStyle","createGlobalStyle","App_templateObject","reset","App_templateObject2","App","setItem","stringify","useLocalStorage","App_Wrapper","components_Editor","components_Preview","registerLanguage","jsx","ReactDOM","render","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4439b602.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as types from './actionTypes';\n\nconst CODE_PLACEHOLDER = `// Type code here`;\n\nconst persistedState = localStorage.getItem('appState');\n\nconst initialState = persistedState\n  ? JSON.parse(persistedState)\n  : {\n      code: CODE_PLACEHOLDER,\n      language: 'javascript',\n      background: 'rgb(158, 173, 175)',\n      customBackground: '#808080',\n    };\n\nexport const code = (\n  state = initialState.code || CODE_PLACEHOLDER,\n  action = {}\n) => {\n  switch (action.type) {\n    case types.EDIT_CODE:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const language = (state = initialState.language, action = {}) => {\n  switch (action.type) {\n    case types.SET_LANGUAGE:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const background = (state = initialState.background, action = {}) => {\n  switch (action.type) {\n    case types.SET_BACKGROUND:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport const customBackground = (\n  state = initialState.customBackground,\n  action = {}\n) => {\n  switch (action.type) {\n    case types.SET_CUSTOM_BACKGROUND:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","export const EDIT_CODE = 'EDIT_CODE';\nexport const SET_LANGUAGE = 'SET_LANGUAGE';\nexport const SET_BACKGROUND = 'SET_BACKGROUND';\nexport const SET_CUSTOM_BACKGROUND = 'SET_CUSTOM_BACKGROUND';\n","import * as types from './actionTypes';\n\nexport const editCode = code => ({ type: types.EDIT_CODE, payload: code });\n\nexport const setLanguage = language => ({\n  type: types.SET_LANGUAGE,\n  payload: language,\n});\n\nexport const setBackground = bg => ({\n  type: types.SET_BACKGROUND,\n  payload: bg,\n});\n\nexport const setCustomBackground = bg => ({\n  type: types.SET_CUSTOM_BACKGROUND,\n  payload: bg,\n});\n","import { createSelector } from 'reselect';\n\nconst getBackground = state => state.background;\nexport const getCustomBackground = state => state.customBackground;\n\nexport const isCustomBackground = createSelector(\n  getBackground,\n  bg => bg === 'custom'\n);\n\nexport const getBackgroundColor = createSelector(\n  getBackground,\n  isCustomBackground,\n  getCustomBackground,\n  (bg, isCustom, customBg) => {\n    if (isCustom) {\n      if (/^-img/.test(customBg)) {\n        return 'transparent';\n      }\n      return customBg;\n    }\n    return bg;\n  }\n);\n\nexport const isBackgroundImage = createSelector(\n  isCustomBackground,\n  getCustomBackground,\n  (isCustom, customBg) => isCustom && /^img-/.test(customBg)\n);\n","import { initStore } from 'use-redux-store';\nimport * as reducers from './reducers';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\n\nconst store = initStore({\n  reducers,\n  actions,\n  selectors,\n});\n\nexport const useStore = store.useStore;\nexport const StoreProvider = store.StoreProvider;\n","import styled from 'styled-components';\n\nexport default styled.h1`\n  font-size: 28px;\n  height: 38px;\n  line-height: 38px;\n`;\n","import React, { useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useStore } from '../state/store';\nimport Title from './Title';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 4;\n  background-color: rgb(38, 50, 56);\n  padding: 20px;\n`;\n\nconst EditorTitle = styled(Title)`\n  color: rgb(157, 173, 175);\n`;\n\nconst CodeInput = styled.textarea`\n  margin-top: 20px;\n  background-color: rgba(26, 35, 39);\n  flex: 1;\n  color: white;\n  font-family: 'Fira Mono', monospace;\n  font-size: 16px;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 30px 20px;\n`;\n\nconst Editor = () => {\n  const { state, dispatch } = useStore();\n\n  const inputRef = useRef();\n\n  // Component did mount\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleCodeChange = e => dispatch.editCode(e.target.value);\n\n  return (\n    <Wrapper>\n      <EditorTitle>Editor</EditorTitle>\n      <CodeInput\n        value={state.code}\n        onChange={handleCodeChange}\n        ref={inputRef}\n        spellCheck={false}\n      />\n    </Wrapper>\n  );\n};\n\nexport default Editor;\n","/* eslint-disable */\n\n/**\n * covert canvas to image\n * and save the image file\n */\n\nconst b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n  if (/^data/.test(b64Data)) {\n    b64Data = b64Data.substring(31);\n  }\n  const byteCharacters = atob(b64Data);\n  const byteArrays = [];\n\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n    const byteNumbers = new Array(slice.length);\n    for (let i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n\n    const byteArray = new Uint8Array(byteNumbers);\n\n    byteArrays.push(byteArray);\n  }\n\n  const blob = new Blob(byteArrays, { type: contentType });\n  return blob;\n};\n\nexport default (function() {\n  // check if support sth.\n  var $support = (function() {\n    var canvas = document.createElement('canvas'),\n      ctx = canvas.getContext('2d');\n\n    return {\n      canvas: !!ctx,\n      imageData: !!ctx.getImageData,\n      dataURL: !!canvas.toDataURL,\n      btoa: !!window.btoa,\n    };\n  })();\n\n  var downloadMime = 'image/octet-stream';\n\n  function scaleCanvas(canvas, width, height) {\n    var w = canvas.width,\n      h = canvas.height;\n    if (width == undefined) {\n      width = w;\n    }\n    if (height == undefined) {\n      height = h;\n    }\n\n    var retCanvas = document.createElement('canvas');\n    var retCtx = retCanvas.getContext('2d');\n    retCanvas.width = width;\n    retCanvas.height = height;\n    retCtx.drawImage(canvas, 0, 0, w, h, 0, 0, width, height);\n    return retCanvas;\n  }\n\n  function getDataURL(canvas, type, width, height) {\n    canvas = scaleCanvas(canvas, width, height);\n    return canvas.toDataURL(type);\n  }\n\n  function saveFile(strData, filename) {\n    /* create a link and add download filename*/\n    var link = document.createElement('a');\n    document.body.appendChild(link); //append it to DOM to work on Firefox and IE\n    link.download = filename;\n    // link.href = strData;\n    let createObjectURL;\n    if (window.URL && URL.createObjectURL) {\n      createObjectURL = URL.createObjectURL;\n    } else if (window.webkitURL) {\n      createObjectURL = webkitURL.createObjectURL;\n    } else {\n      return alert(\n        'Impossible to save screenshot. You can use your OS to take it manually ;)'\n      );\n    }\n    link.href = createObjectURL(b64toBlob(strData, 'application/octet-stream'));\n    link.click();\n  }\n\n  function genImage(strData) {\n    var img = document.createElement('img');\n    img.src = strData;\n    return img;\n  }\n  function fixType(type) {\n    type = type.toLowerCase().replace(/jpg/i, 'jpeg');\n    var r = type.match(/png|jpeg|bmp|gif/)[0];\n    return 'image/' + r;\n  }\n  function encodeData(data) {\n    if (!window.btoa) {\n      throw 'btoa undefined';\n    }\n    var str = '';\n    if (typeof data == 'string') {\n      str = data;\n    } else {\n      for (var i = 0; i < data.length; i++) {\n        str += String.fromCharCode(data[i]);\n      }\n    }\n\n    return btoa(str);\n  }\n  function getImageData(canvas) {\n    var w = canvas.width,\n      h = canvas.height;\n    return canvas.getContext('2d').getImageData(0, 0, w, h);\n  }\n  function makeURI(strData, type) {\n    //return 'data:' + type + ';base64,' + strData;\n    return strData;\n  }\n\n  /**\n   * create bitmap image\n   * 按照规则生成图片响应头和响应体\n   */\n  var genBitmapImage = function(oData) {\n    //\n    // BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx\n    // BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx\n    //\n\n    var biWidth = oData.width;\n    var biHeight = oData.height;\n    var biSizeImage = biWidth * biHeight * 3;\n    var bfSize = biSizeImage + 54; // total header size = 54 bytes\n\n    //\n    //  typedef struct tagBITMAPFILEHEADER {\n    //  \tWORD bfType;\n    //  \tDWORD bfSize;\n    //  \tWORD bfReserved1;\n    //  \tWORD bfReserved2;\n    //  \tDWORD bfOffBits;\n    //  } BITMAPFILEHEADER;\n    //\n    var BITMAPFILEHEADER = [\n      // WORD bfType -- The file type signature; must be \"BM\"\n      0x42,\n      0x4d,\n      // DWORD bfSize -- The size, in bytes, of the bitmap file\n      bfSize & 0xff,\n      (bfSize >> 8) & 0xff,\n      (bfSize >> 16) & 0xff,\n      (bfSize >> 24) & 0xff,\n      // WORD bfReserved1 -- Reserved; must be zero\n      0,\n      0,\n      // WORD bfReserved2 -- Reserved; must be zero\n      0,\n      0,\n      // DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.\n      54,\n      0,\n      0,\n      0,\n    ];\n\n    //\n    //  typedef struct tagBITMAPINFOHEADER {\n    //  \tDWORD biSize;\n    //  \tLONG  biWidth;\n    //  \tLONG  biHeight;\n    //  \tWORD  biPlanes;\n    //  \tWORD  biBitCount;\n    //  \tDWORD biCompression;\n    //  \tDWORD biSizeImage;\n    //  \tLONG  biXPelsPerMeter;\n    //  \tLONG  biYPelsPerMeter;\n    //  \tDWORD biClrUsed;\n    //  \tDWORD biClrImportant;\n    //  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;\n    //\n    var BITMAPINFOHEADER = [\n      // DWORD biSize -- The number of bytes required by the structure\n      40,\n      0,\n      0,\n      0,\n      // LONG biWidth -- The width of the bitmap, in pixels\n      biWidth & 0xff,\n      (biWidth >> 8) & 0xff,\n      (biWidth >> 16) & 0xff,\n      (biWidth >> 24) & 0xff,\n      // LONG biHeight -- The height of the bitmap, in pixels\n      biHeight & 0xff,\n      (biHeight >> 8) & 0xff,\n      (biHeight >> 16) & 0xff,\n      (biHeight >> 24) & 0xff,\n      // WORD biPlanes -- The number of planes for the target device. This value must be set to 1\n      1,\n      0,\n      // WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap\n      // has a maximum of 2^24 colors (16777216, Truecolor)\n      24,\n      0,\n      // DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed\n      0,\n      0,\n      0,\n      0,\n      // DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps\n      biSizeImage & 0xff,\n      (biSizeImage >> 8) & 0xff,\n      (biSizeImage >> 16) & 0xff,\n      (biSizeImage >> 24) & 0xff,\n      // LONG biXPelsPerMeter, unused\n      0,\n      0,\n      0,\n      0,\n      // LONG biYPelsPerMeter, unused\n      0,\n      0,\n      0,\n      0,\n      // DWORD biClrUsed, the number of color indexes of palette, unused\n      0,\n      0,\n      0,\n      0,\n      // DWORD biClrImportant, unused\n      0,\n      0,\n      0,\n      0,\n    ];\n\n    var iPadding = (4 - ((biWidth * 3) % 4)) % 4;\n\n    var aImgData = oData.data;\n\n    var strPixelData = '';\n    var biWidth4 = biWidth << 2;\n    var y = biHeight;\n    var fromCharCode = String.fromCharCode;\n\n    do {\n      var iOffsetY = biWidth4 * (y - 1);\n      var strPixelRow = '';\n      for (var x = 0; x < biWidth; x++) {\n        var iOffsetX = x << 2;\n        strPixelRow +=\n          fromCharCode(aImgData[iOffsetY + iOffsetX + 2]) +\n          fromCharCode(aImgData[iOffsetY + iOffsetX + 1]) +\n          fromCharCode(aImgData[iOffsetY + iOffsetX]);\n      }\n\n      for (var c = 0; c < iPadding; c++) {\n        strPixelRow += String.fromCharCode(0);\n      }\n\n      strPixelData += strPixelRow;\n    } while (--y);\n\n    var strEncoded =\n      encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) +\n      encodeData(strPixelData);\n\n    return strEncoded;\n  };\n\n  /**\n   * saveAsImage\n   * @param canvasElement\n   * @param {String} image type\n   * @param {Number} [optional] png width\n   * @param {Number} [optional] png height\n   */\n  var saveAsImage = function(canvas, filename, width, height, type) {\n    if ($support.canvas && $support.dataURL) {\n      if (typeof canvas == 'string') {\n        canvas = document.getElementById(canvas);\n      }\n      if (type == undefined) {\n        type = 'png';\n      }\n      type = fixType(type);\n      if (/bmp/.test(type)) {\n        var data = getImageData(scaleCanvas(canvas, width, height));\n        var strData = genBitmapImage(data);\n        saveFile(makeURI(strData, downloadMime), filename);\n      } else {\n        var strData = getDataURL(canvas, type, width, height);\n        saveFile(strData.replace(type, downloadMime), filename);\n      }\n    }\n  };\n\n  var convertToImage = function(canvas, width, height, type) {\n    if ($support.canvas && $support.dataURL) {\n      if (typeof canvas == 'string') {\n        canvas = document.getElementById(canvas);\n      }\n      if (type == undefined) {\n        type = 'png';\n      }\n      type = fixType(type);\n\n      if (/bmp/.test(type)) {\n        var data = getImageData(scaleCanvas(canvas, width, height));\n        var strData = genBitmapImage(data);\n        return genImage(makeURI(strData, 'image/bmp'));\n      } else {\n        var strData = getDataURL(canvas, type, width, height);\n        return genImage(strData);\n      }\n    }\n  };\n\n  return {\n    saveAsImage: saveAsImage,\n    saveAsPNG: function(canvas, filename, width, height) {\n      return saveAsImage(canvas, filename, width, height, 'png');\n    },\n    saveAsJPEG: function(canvas, filename, width, height) {\n      return saveAsImage(canvas, filename, width, height, 'jpeg');\n    },\n    saveAsGIF: function(canvas, filename, width, height) {\n      return saveAsImage(canvas, filename, width, height, 'gif');\n    },\n    saveAsBMP: function(canvas, filename, width, height) {\n      return saveAsImage(canvas, filename, width, height, 'bmp');\n    },\n\n    convertToImage: convertToImage,\n    convertToPNG: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'png');\n    },\n    convertToJPEG: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'jpeg');\n    },\n    convertToGIF: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'gif');\n    },\n    convertToBMP: function(canvas, width, height) {\n      return convertToImage(canvas, width, height, 'bmp');\n    },\n  };\n})();\n","import React from 'react';\nimport styled from 'styled-components';\nimport Select from 'react-select';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/prism';\nimport { useStore } from '../state/store';\n\nconst BackgroundSelect = styled(Select)`\n  width: 120px;\n`;\n\nconst LanguageSelect = styled(Select)`\n  width: 130px;\n`;\n\nconst Label = styled.label`\n  margin: 0 7px 0 10px;\n  font-size: 15px;\n`;\n\nconst backgrounds = [\n  { label: 'Grey', value: 'rgb(158, 173, 175)' },\n  { label: 'White', value: 'rgb(255, 255, 255)' },\n  { label: 'Pink', value: 'rgb(253, 168, 196)' },\n  { label: 'Custom', value: 'custom' },\n];\n\nconst languages = SyntaxHighlighter.supportedLanguages.map(l => ({\n  label: l,\n  value: l,\n}));\n\nconst Settings = () => {\n  const { state, dispatch } = useStore();\n  const selectedLanguage = {\n    label: state.language,\n    value: state.language,\n  };\n  const selectedBackground = backgrounds.find(\n    background => background.value === state.background\n  );\n  return (\n    <>\n      <Label htmlFor=\"background\">Background</Label>\n      <BackgroundSelect\n        id=\"background\"\n        value={selectedBackground}\n        onChange={option => dispatch.setBackground(option.value)}\n        options={backgrounds}\n      />\n      <Label htmlFor=\"language\">Language</Label>\n      <LanguageSelect\n        id=\"language\"\n        value={selectedLanguage}\n        onChange={option => dispatch.setLanguage(option.value)}\n        options={languages}\n      />\n    </>\n  );\n};\n\nexport default Settings;\n","import idb from 'idb';\n\nconst TABLE_NAME = 'bgImage';\n\nconst dbPromise = idb.open('bgImage-store', 1, upgradeDB => {\n  upgradeDB.createObjectStore(TABLE_NAME);\n});\n\nconst bgImageStore = {\n  get(key) {\n    return dbPromise.then(db => {\n      return db\n        .transaction(TABLE_NAME)\n        .objectStore(TABLE_NAME)\n        .get(key);\n    });\n  },\n  set(key, val) {\n    return dbPromise.then(db => {\n      const tx = db.transaction(TABLE_NAME, 'readwrite');\n      tx.objectStore(TABLE_NAME).put(val, key);\n      return tx.complete;\n    });\n  },\n  keys() {\n    return dbPromise.then(db => {\n      const tx = db.transaction(TABLE_NAME);\n      const keys = [];\n      const store = tx.objectStore(TABLE_NAME);\n      (store.iterateKeyCursor || store.iterateCursor).call(store, cursor => {\n        if (!cursor) return;\n        keys.push(cursor.key);\n        cursor.continue();\n      });\n      return tx.complete.then(() => keys);\n    });\n  },\n  delete(key) {\n    return dbPromise.then(db => {\n      const tx = db.transaction(TABLE_NAME, 'readwrite');\n      tx.objectStore(TABLE_NAME).delete(key);\n      return tx.complete;\n    });\n  },\n};\n\nexport const setBgImage = (id, bgImage) => bgImageStore.set(id, bgImage);\n\nexport const getBgImage = id => bgImageStore.get(id);\n\nexport const getBgImages = async () => {\n  const keys = await bgImageStore.keys();\n  const results = [];\n  for (const imgId of keys) {\n    results.push({\n      id: imgId,\n      data: await getBgImage(imgId),\n    });\n  }\n  return results;\n};\n\nexport const deleteBgImage = id => bgImageStore.delete(id);\n","import React, { useRef, useEffect, useState } from 'react';\nimport canvasImageCoverPosition from '../libs/canvasImageCoverPosition';\n\nconst Image = ({ data, width, height }) => {\n  const canvasRef = useRef();\n  const [rect, setRect] = useState({ width, height });\n  const [image, setImage] = useState(null);\n\n  useEffect(\n    () => {\n      const img = document.createElement('img');\n      img.src = data;\n      img.onload = setImage(img);\n    },\n    [data]\n  );\n\n  useEffect(\n    () => {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, rect.width, rect.height);\n      setRect({ width, height });\n    },\n    [width, height, data]\n  );\n\n  useEffect(\n    () => {\n      if (!image) {\n        return;\n      }\n      requestAnimationFrame(draw);\n    },\n    [rect, image]\n  );\n\n  const draw = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const {\n      width: canvasWidth,\n      height: canvasHeight,\n    } = canvas.getBoundingClientRect();\n    const {\n      offsetLeft,\n      offsetTop,\n      width: imgWidth,\n      height: imgHeight,\n    } = canvasImageCoverPosition(\n      image.width,\n      image.height,\n      canvasWidth,\n      canvasHeight,\n      0.5,\n      0.5\n    );\n    ctx.drawImage(image, offsetLeft, offsetTop, imgWidth, imgHeight);\n  };\n\n  return <canvas ref={canvasRef} width={rect.width} height={rect.height} />;\n};\n\nexport default Image;\n","/* eslint-disable */\n\n/*\n * By Bohdan Zolotukhyn\n * \n * A1,B1 = imgNaturalWidth,imgNaturalHeight - images natural width and height\n * A2,B2 = canvasWidth,canvasHeight - canvas width and height\n * A3,B3 - proportional values of the output image\n * offsetLeft - left offset in percent equal to background-position-x. Range(0-1)\n * offsetTop - top offset in percent equal to background-position-y. Range(0-1)\n *\n * If the offsets are not specified, the image is centered\n * var imagePosition = canvasImageCoverPosition(image.naturalWidth, image.NaturalHeight , canvas.width, canvas.height, [offsetLeft, offsetTop])\n * canvas.getContext('2d')\n   .drawImage(image, imagePosition.offsetLeft, imagePosition.offsetTop, imagePosition.width, imagePosition.height);\n*/\nexport default function canvasImageCoverPosition(\n  imgNaturalWidth,\n  imgNaturalHeight,\n  canvasWidth,\n  canvasHeight,\n  offsetLeft,\n  offsetTop\n) {\n  var A1, A2, A3, B1, B2, B3, dA, dB;\n  offsetLeft = offsetLeft || 0.5;\n  offsetTop = offsetTop || 0.5;\n  A1 = imgNaturalWidth;\n  A2 = canvasWidth;\n  dA = A2 - A1;\n  B1 = imgNaturalHeight;\n  B2 = canvasHeight;\n  dB = B2 - B1;\n  if (dA < dB) {\n    B3 = B2;\n    A3 = A1 + (A1 * ((dB * 100) / B1)) / 100;\n  } else {\n    A3 = A2;\n    B3 = B1 + (B1 * ((dA * 100) / A1)) / 100;\n  }\n  return {\n    width: A3,\n    height: B3,\n    offsetLeft: round((A2 - A3) * offsetLeft),\n    offsetTop: round((B2 - B3) * offsetTop),\n  };\n  function round(v) {\n    return (+(v >= 0) || -1) * Math.round(Math.abs(v));\n  }\n}\n","import styled from 'styled-components';\n\nexport default styled.button`\n  border: 0;\n  padding: 5px 10px;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-family: inherit;\n  border-radius: 3px;\n  outline: none;\n\n  + button {\n    margin-left: 10px;\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Image from './Image';\nimport { getBgImages, getBgImage, deleteBgImage } from '../state/db';\nimport { useStore } from '../state/store';\nimport BgSettingsBtn from './BgSettingsBtn';\n\nconst Wrapper = styled.div`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  left: 10px;\n  right: 10px;\n  top: 10px;\n`;\n\nconst ImgWrapper = styled.div`\n  width: 30px;\n  height: 30px;\n  margin: 5px;\n  border-radius: 5px;\n  overflow: hidden;\n  border-width: 2px;\n  border-style: solid;\n  position: relative;\n`;\n\nconst Button = styled(BgSettingsBtn)`\n  background-color: rgba(0, 0, 0, 0.8);\n  width: 30px;\n  height: 30px;\n  font-size: 18px;\n  margin-left: 6px;\n`;\n\nconst RemoveButton = styled(BgSettingsBtn)`\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n`;\n\nconst BgImagePicker = ({ uploadFile, close }) => {\n  const { state, dispatch, select } = useStore();\n  const [images, setImages] = useState([]);\n\n  const selectedId = select.isBackgroundImage()\n    ? +state.customBackground.substring(4)\n    : null;\n\n  useEffect(() => {\n    getBgImages().then(images => {\n      if (images && images.length) {\n        setImages(images);\n      }\n    });\n  }, []);\n\n  useEffect(\n    () => {\n      if (select.isBackgroundImage()) {\n        const id = +state.customBackground.substring(4);\n        if (!images.find(img => img.id === id)) {\n          getBgImage(id).then(data => {\n            setImages([...images, { id, data }]);\n          });\n        }\n      }\n    },\n    [state.customBackground]\n  );\n\n  const handleDelete = () => {\n    const id = +state.customBackground.substring(4);\n    deleteBgImage(id).then(() => {\n      const nextImages = images.filter(img => img.id !== id);\n      setImages(nextImages);\n      if (nextImages.length) {\n        dispatch.setCustomBackground(`img-${nextImages[0].id}`);\n      } else {\n        dispatch.setCustomBackground('transparent');\n        close();\n      }\n    });\n  };\n\n  return (\n    <>\n      <Wrapper>\n        {images.map(image => (\n          <ImgWrapper\n            key={image.id}\n            onClick={() => {\n              if (selectedId !== image.id) {\n                dispatch.setCustomBackground(`img-${image.id}`);\n              }\n            }}\n            style={{\n              borderColor:\n                selectedId === image.id ? 'rgba(26,35,39)' : 'transparent',\n            }}\n          >\n            <Image width={30} height={30} data={image.data} />\n          </ImgWrapper>\n        ))}\n        <Button onClick={uploadFile}>+</Button>\n      </Wrapper>\n      {select.isBackgroundImage() && (\n        <RemoveButton onClick={() => handleDelete()}>Delete Image</RemoveButton>\n      )}\n    </>\n  );\n};\n\nexport default BgImagePicker;\n","import React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport useOnClickOutside from 'use-onclickoutside';\nimport { ChromePicker } from 'react-color';\nimport { useStore } from '../state/store';\nimport useFileInput from '../hooks/useFileInput';\nimport { setBgImage } from '../state/db';\nimport BgImagePicker from './BgImagePicker';\nimport Button from './BgSettingsBtn';\n\nconst Wrapper = styled.div`\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  justify-content: flex-end;\n  margin: 10px;\n`;\n\nconst ColorPickerWrapper = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  right: 20px;\n  top: 20px;\n`;\n\nconst ImagePickerWrapper = styled.div``;\n\nconst CustomBgSettings = () => {\n  const colorPickerWrapperRef = useRef();\n  const imagePickerWrapperRef = useRef();\n  const { select, dispatch } = useStore();\n  const [isColorPickerVisible, setColorPickerVisible] = useState(false);\n  const [isImagePickerVisible, setImagePickerVisible] = useState(false);\n\n  const handleFileUpload = fileContent => {\n    const id = +new Date();\n    setBgImage(id, fileContent).then(() =>\n      dispatch.setCustomBackground(`img-${id}`)\n    );\n  };\n\n  const uploadFile = useFileInput(handleFileUpload);\n\n  useOnClickOutside(colorPickerWrapperRef, () => {\n    setColorPickerVisible(false);\n  });\n\n  useOnClickOutside(imagePickerWrapperRef, () => {\n    setImagePickerVisible(false);\n  });\n\n  if (!select.isCustomBackground()) {\n    return null;\n  }\n\n  const customBackground = select.getCustomBackground();\n\n  if (isImagePickerVisible) {\n    return (\n      <ImagePickerWrapper ref={imagePickerWrapperRef}>\n        <BgImagePicker\n          uploadFile={uploadFile}\n          close={() => setImagePickerVisible(false)}\n        />\n      </ImagePickerWrapper>\n    );\n  }\n  if (isColorPickerVisible) {\n    return (\n      <ColorPickerWrapper ref={colorPickerWrapperRef}>\n        <ChromePicker\n          color={/^#/.test(customBackground) && customBackground}\n          onChangeComplete={color => dispatch.setCustomBackground(color.hex)}\n        />\n      </ColorPickerWrapper>\n    );\n  }\n  return (\n    <Wrapper>\n      <Button onClick={() => setColorPickerVisible(true)}>Color</Button>\n      <Button onClick={() => setImagePickerVisible(true)}>Image</Button>\n    </Wrapper>\n  );\n};\n\nexport default CustomBgSettings;\n","import { useEffect, useState } from 'react';\n\nexport default (onChange = () => {}) => {\n  const [fileInput] = useState(() => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    return input;\n  });\n\n  useEffect(() => {\n    const handleChange = evt => {\n      const [file] = [...fileInput.files];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          onChange(e.target.result);\n        };\n        reader.readAsDataURL(file);\n      }\n      fileInput.value = null;\n    };\n\n    fileInput.addEventListener('change', handleChange);\n\n    return () => fileInput.removeEventListener('change', handleChange);\n  }, []);\n\n  return () => {\n    fileInput.click();\n  };\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  position: absolute;\n  min-width: 300px;\n  max-width: 500px;\n  background-color: rgb(38, 50, 56);\n  border-radius: 6px;\n  box-shadow: 0 20px 70px rgba(0, 0, 0, 0.55);\n  z-index: 1;\n  user-select: none;\n`;\n\nconst Toolbar = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 45px;\n  align-items: center;\n  padding: 0 10px;\n`;\n\nconst ToolbarIcon = styled.div`\n  width: 16px;\n  height: 16px;\n  border-radius: 8px;\n  background-color: ${p => p.color};\n  margin: 5px;\n`;\n\nconst CodeWrapper = styled.div`\n  padding: 0 15px 15px 15px;\n  max-height: 70vh;\n  overflow: auto;\n`;\n\nconst PreviewWindow = ({ children }) => (\n  <Wrapper>\n    <Toolbar>\n      <ToolbarIcon color=\"rgb(252, 96, 92)\" />\n      <ToolbarIcon color=\"rgb(253, 188, 64)\" />\n      <ToolbarIcon color=\"rgb(52, 200, 74)\" />\n    </Toolbar>\n    <CodeWrapper>{children}</CodeWrapper>\n  </Wrapper>\n);\n\nexport default PreviewWindow;\n","import React, { useRef, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport html2canvas from 'html2canvas';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/prism';\nimport { tomorrow } from 'react-syntax-highlighter/dist/styles/prism';\nimport Canvas2Image from '../libs/canvas2image';\nimport Title from './Title';\nimport Settings from './Settings';\nimport BgSettings from './BgSettings';\nimport PreviewWindow from './PreviewWindow';\nimport { useStore } from '../state/store';\nimport useBoundingRect from '../hooks/useBoundingRect';\nimport { getBgImage } from '../state/db';\nimport Image from './Image';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 6;\n  padding: 20px;\n  background-color: white;\n`;\n\nconst PreviewTitle = styled(Title)`\n  flex: 1;\n`;\n\nconst CaptureButton = styled.button`\n  border: 1px solid hsl(0, 0%, 70%);\n  background: white;\n  padding: 10px;\n  height: 38px;\n  line-height: 20px;\n  vertical-align: middle;\n  border-radius: 4px;\n  font-size: 20px;\n  cursor: pointer;\n  margin-left: 10px;\n`;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  z-index: 10;\n`;\n\nconst PreviewZone = styled.div`\n  position: relative;\n  display: flex;\n  flex: 1;\n  margin-top: 20px;\n  align-items: center;\n  justify-content: center;\n  background-size: cover;\n\n  // Syntax highlighter overrides\n  pre {\n    background-color: transparent !important;\n    padding: 0 !important;\n    margin: 0 !important;\n    border: none !important;\n    box-shadow: none !important;\n    span {\n      text-shadow: none !important;\n    }\n  }\n`;\n\nconst BackgroundImage = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 0;\n`;\n\nconst BgSettingsWrapper = styled.div`\n  z-index: 2;\n`;\n\nconst takeCapture = previewZone => {\n  const ignoreElements = el => el.classList.contains('bg-settings');\n  html2canvas(previewZone, { ignoreElements, logging: false }).then(canvas => {\n    const { width, height } = previewZone.getBoundingClientRect();\n    Canvas2Image.saveAsPNG(\n      canvas,\n      `code-${+new Date()}.png`,\n      width * 2,\n      height * 2\n    );\n  });\n};\n\nconst Preview = () => {\n  const { state, select } = useStore();\n  const [backgroundImage, setBackgroundImage] = useState(null);\n  const previewRef = useRef();\n  const { width: previewWidth, height: previewHeight } = useBoundingRect(\n    previewRef\n  );\n\n  useEffect(\n    () => {\n      if (select.isBackgroundImage()) {\n        getBgImage(+state.customBackground.substring(4)).then(data =>\n          setBackgroundImage(data)\n        );\n      } else {\n        setBackgroundImage(null);\n      }\n    },\n    [state.background, state.customBackground]\n  );\n\n  return (\n    <Wrapper>\n      <TitleWrapper>\n        <PreviewTitle>Preview</PreviewTitle>\n        <Settings />\n        <CaptureButton\n          title=\"capture\"\n          onClick={() => takeCapture(previewRef.current)}\n        >\n          <span role=\"img\" aria-label=\"Capture icon\">\n            📸\n          </span>\n        </CaptureButton>\n      </TitleWrapper>\n      <PreviewZone\n        ref={previewRef}\n        style={{\n          background: select.isBackgroundImage()\n            ? 'transparent'\n            : select.getBackgroundColor(),\n        }}\n      >\n        <BgSettingsWrapper className=\"bg-settings\">\n          <BgSettings />\n        </BgSettingsWrapper>\n        <PreviewWindow>\n          <SyntaxHighlighter\n            language={state.language}\n            style={tomorrow}\n            wrapLines={false}\n          >\n            {state.code}\n          </SyntaxHighlighter>\n        </PreviewWindow>\n        {backgroundImage && (\n          <BackgroundImage>\n            <Image\n              data={backgroundImage}\n              width={previewWidth}\n              height={previewHeight}\n            />\n          </BackgroundImage>\n        )}\n      </PreviewZone>\n    </Wrapper>\n  );\n};\n\nexport default Preview;\n","import { useState, useEffect } from 'react';\nimport debouce from 'lodash.debounce';\n\nexport default ref => {\n  const [size, setSize] = useState({});\n  useEffect(\n    () => {\n      setSize(ref.current.getBoundingClientRect());\n      const onResize = debouce(() => {\n        setSize(ref.current.getBoundingClientRect());\n      }, 300);\n      window.addEventListener('resize', onResize);\n      return () => window.removeEventListener('resize', onResize);\n    },\n    [ref]\n  );\n  return size;\n};\n","import React from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport reset from 'styled-reset';\n\nimport Editor from './Editor';\nimport Preview from './Preview';\nimport useLocalStorage from '../hooks/useLocalStorage';\n\nconst GlobalStyle = createGlobalStyle`\n  ${reset};\n  body {\n    font-family: 'Roboto', sans-serif;\n  }\n`;\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst App = () => {\n  useLocalStorage();\n  return (\n    <>\n      <GlobalStyle />\n      <Wrapper>\n        <Editor />\n        <Preview />\n      </Wrapper>\n    </>\n  );\n};\n\nexport default App;\n","import { useEffect } from 'react';\nimport { useStore } from '../state/store';\n\nexport default () => {\n  const { state } = useStore();\n  useEffect(\n    () => {\n      localStorage.setItem('appState', JSON.stringify(state));\n    },\n    [state]\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { registerLanguage } from 'react-syntax-highlighter/dist/prism-light';\nimport jsx from 'react-syntax-highlighter/dist/languages/prism/jsx';\nimport App from './components/App';\nimport { StoreProvider } from './state/store';\n\n///registerLanguage('js', js);\nregisterLanguage('jsx', jsx);\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}